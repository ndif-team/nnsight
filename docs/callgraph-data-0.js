loadCallgraphChunk(0, [{"hash": "2200c2e", "date": "2026-01-02", "message": "Add RestrictedPython security layer with audit logging", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 2411, "testCount": 245, "nodeCount": 74, "edgeCount": 81, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 28, "endLine": 30, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 41, "endLine": 58, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 61, "endLine": 201, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 204, "endLine": 279, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 282, "endLine": 316, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 319, "endLine": 352, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 355, "endLine": 440, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 443, "endLine": 457, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_remote_object", "type": "function", "line": 460, "endLine": 470, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 473, "endLine": 531, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 534, "endLine": 638, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 641, "endLine": 706, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 709, "endLine": 741, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 744, "endLine": 759, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 764, "endLine": 904, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 907, "endLine": 961, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 80, "endLine": 82, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 213, "endLine": 344, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 579, "endLine": 626, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 688, "endLine": 690, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 85, "endLine": 129, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 124, "endLine": 125, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 132, "endLine": 201, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 204, "endLine": 353, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 214, "endLine": 217, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 219, "endLine": 220, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 222, "endLine": 223, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 225, "endLine": 227, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 229, "endLine": 230, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 232, "endLine": 249, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 251, "endLine": 253, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 255, "endLine": 263, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 265, "endLine": 270, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 272, "endLine": 279, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 281, "endLine": 286, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 288, "endLine": 293, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 295, "endLine": 300, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 302, "endLine": 308, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 310, "endLine": 315, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 317, "endLine": 320, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 322, "endLine": 325, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 327, "endLine": 331, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 333, "endLine": 339, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 341, "endLine": 344, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 356, "endLine": 447, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 450, "endLine": 540, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 543, "endLine": 566, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 569, "endLine": 629, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 580, "endLine": 585, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 587, "endLine": 591, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 593, "endLine": 608, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 610, "endLine": 626, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 632, "endLine": 667, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 670, "endLine": 681, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 693, "endLine": 803, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 806, "endLine": 808, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 811, "endLine": 844, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 267, "endLine": 329, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 332, "endLine": 390, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 400, "endLine": 472, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 479, "endLine": 525, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 528, "endLine": 582, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 589, "endLine": 591, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 594, "endLine": 596, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "is_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "is_remote_object", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_instance_state", "target": "is_tensor", "type": "calls"}, {"source": "serialize_instance_state", "target": "is_remote_object", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_instance_state", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_instance_state", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_instance_state", "target": "get_callable_reference", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_state", "target": "deserialize_tensor", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "resolve_module_references", "target": "is_json_serializable", "type": "calls"}, {"source": "extract_closure_variables", "target": "is_json_serializable", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "38b9c2f", "date": "2026-01-02", "message": "Implement source-based serialization with @nnsight.remote de", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 933, "testCount": 128, "nodeCount": 46, "edgeCount": 50, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 23, "endLine": 25, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 28, "endLine": 58, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 61, "endLine": 129, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 132, "endLine": 146, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_remote_object", "type": "function", "line": 149, "endLine": 159, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 162, "endLine": 205, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 208, "endLine": 251, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 254, "endLine": 269, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 274, "endLine": 335, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 338, "endLine": 389, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 43, "endLine": 45, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 171, "endLine": 302, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 444, "endLine": 483, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 48, "endLine": 92, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 87, "endLine": 88, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 95, "endLine": 159, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 162, "endLine": 311, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 172, "endLine": 175, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 177, "endLine": 178, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 180, "endLine": 181, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 183, "endLine": 185, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 187, "endLine": 188, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 190, "endLine": 207, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 209, "endLine": 211, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 213, "endLine": 221, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 223, "endLine": 228, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 230, "endLine": 237, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 239, "endLine": 244, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 246, "endLine": 251, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 253, "endLine": 258, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 260, "endLine": 266, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 268, "endLine": 273, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 275, "endLine": 278, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 280, "endLine": 283, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 285, "endLine": 289, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 291, "endLine": 297, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 299, "endLine": 302, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 314, "endLine": 405, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 408, "endLine": 431, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 434, "endLine": 486, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 445, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 452, "endLine": 456, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 458, "endLine": 473, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 475, "endLine": 483, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 489, "endLine": 524, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 527, "endLine": 538, "file": "src/nnsight/remote.py"}], "edges": [{"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "is_remote_object", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "serialize_instance_state", "target": "is_remote_object", "type": "calls"}, {"source": "serialize_instance_state", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_instance_state", "target": "is_model_reference", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "resolve_module_references", "target": "is_json_serializable", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}]}, {"hash": "02198af", "date": "2026-01-03", "message": "Add object deduplication for shared references and circular ", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 2688, "testCount": 246, "nodeCount": 79, "edgeCount": 90, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 28, "endLine": 30, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 41, "endLine": 58, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 61, "endLine": 201, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 204, "endLine": 279, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 282, "endLine": 316, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 319, "endLine": 352, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 355, "endLine": 440, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 443, "endLine": 457, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_remote_object", "type": "function", "line": 460, "endLine": 470, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 473, "endLine": 531, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 534, "endLine": 638, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 641, "endLine": 645, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 648, "endLine": 655, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 658, "endLine": 694, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 697, "endLine": 818, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 821, "endLine": 843, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 846, "endLine": 878, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 881, "endLine": 896, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 901, "endLine": 1041, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1044, "endLine": 1195, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1198, "endLine": 1221, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 93, "endLine": 95, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 226, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 592, "endLine": 639, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 705, "endLine": 707, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 98, "endLine": 142, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 137, "endLine": 138, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 145, "endLine": 214, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 217, "endLine": 366, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 227, "endLine": 230, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 232, "endLine": 233, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 235, "endLine": 236, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 238, "endLine": 240, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 242, "endLine": 243, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 245, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 264, "endLine": 266, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 268, "endLine": 276, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 278, "endLine": 283, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 285, "endLine": 292, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 294, "endLine": 299, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 301, "endLine": 306, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 308, "endLine": 313, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 315, "endLine": 321, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 323, "endLine": 328, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 330, "endLine": 333, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 335, "endLine": 338, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 340, "endLine": 344, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 346, "endLine": 352, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 354, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 369, "endLine": 460, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 463, "endLine": 553, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 556, "endLine": 579, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 582, "endLine": 642, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 593, "endLine": 598, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 600, "endLine": 604, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 606, "endLine": 621, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 623, "endLine": 639, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 645, "endLine": 684, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 687, "endLine": 698, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 710, "endLine": 820, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 823, "endLine": 825, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 828, "endLine": 861, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 267, "endLine": 329, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 332, "endLine": 390, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 400, "endLine": 472, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 479, "endLine": 525, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 528, "endLine": 582, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 589, "endLine": 591, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 594, "endLine": 596, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "is_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "is_remote_object", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "is_remote_object", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "resolve_module_references", "target": "is_json_serializable", "type": "calls"}, {"source": "extract_closure_variables", "target": "is_json_serializable", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "0b938b7", "date": "2026-01-03", "message": "Unify AST visitors: replace NameFinder with enhanced Referen", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3564, "testCount": 292, "nodeCount": 94, "edgeCount": 112, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 35, "endLine": 37, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 48, "endLine": 77, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 80, "endLine": 241, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 244, "endLine": 252, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 263, "endLine": 280, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 283, "endLine": 423, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 426, "endLine": 501, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 504, "endLine": 555, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 558, "endLine": 591, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 594, "endLine": 680, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 683, "endLine": 701, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 704, "endLine": 726, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 729, "endLine": 732, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 735, "endLine": 740, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 743, "endLine": 866, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 869, "endLine": 944, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 947, "endLine": 1049, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1052, "endLine": 1056, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_remote_object", "type": "function", "line": 1059, "endLine": 1069, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1072, "endLine": 1132, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1135, "endLine": 1239, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1242, "endLine": 1246, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1249, "endLine": 1256, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1259, "endLine": 1298, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1301, "endLine": 1462, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1465, "endLine": 1521, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1524, "endLine": 1556, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1559, "endLine": 1580, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1585, "endLine": 1739, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1742, "endLine": 1931, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1934, "endLine": 1957, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 141, "endLine": 143, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 274, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "ValueClassification", "type": "class", "line": 464, "endLine": 468, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 732, "endLine": 779, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 841, "endLine": 843, "file": "src/nnsight/remote.py"}, {"id": "is_server_available_module", "type": "function", "line": 63, "endLine": 75, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 146, "endLine": 190, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 185, "endLine": 186, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 193, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 265, "endLine": 461, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 275, "endLine": 278, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 280, "endLine": 281, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 283, "endLine": 284, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 286, "endLine": 288, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 290, "endLine": 291, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 293, "endLine": 332, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 334, "endLine": 336, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 338, "endLine": 356, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 358, "endLine": 363, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 365, "endLine": 372, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 374, "endLine": 379, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 381, "endLine": 386, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 388, "endLine": 393, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 395, "endLine": 401, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 403, "endLine": 408, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Lambda", "type": "method", "line": 410, "endLine": 421, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 423, "endLine": 426, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 428, "endLine": 431, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 433, "endLine": 437, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 439, "endLine": 445, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 447, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "classify_reference_value", "type": "function", "line": 471, "endLine": 523, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 526, "endLine": 578, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 581, "endLine": 630, "file": "src/nnsight/remote.py"}, {"id": "_extract_closure_from_function", "type": "function", "line": 633, "endLine": 693, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 696, "endLine": 719, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 722, "endLine": 782, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 733, "endLine": 738, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 740, "endLine": 744, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 746, "endLine": 761, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 763, "endLine": 779, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 785, "endLine": 820, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 823, "endLine": 834, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 846, "endLine": 956, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 959, "endLine": 961, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 964, "endLine": 997, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 266, "endLine": 328, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 331, "endLine": 389, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 399, "endLine": 471, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 478, "endLine": 524, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 527, "endLine": 581, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 588, "endLine": 590, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 593, "endLine": 595, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "is_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "is_remote_object", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "is_remote_object", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "classify_reference_value", "target": "is_json_serializable", "type": "calls"}, {"source": "resolve_module_references", "target": "classify_reference_value", "type": "calls"}, {"source": "extract_closure_variables", "target": "_extract_closure_from_function", "type": "calls"}, {"source": "_extract_closure_from_function", "target": "classify_reference_value", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "0e24d0a", "date": "2026-01-03", "message": "Strengthen tests and fix is_json_serializable circular refer", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3564, "testCount": 292, "nodeCount": 94, "edgeCount": 112, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 35, "endLine": 37, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 48, "endLine": 75, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 78, "endLine": 239, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 242, "endLine": 250, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 261, "endLine": 278, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 281, "endLine": 421, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 424, "endLine": 499, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 502, "endLine": 553, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 556, "endLine": 589, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 592, "endLine": 676, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 679, "endLine": 697, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 700, "endLine": 722, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 725, "endLine": 728, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 731, "endLine": 736, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 739, "endLine": 862, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 865, "endLine": 940, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 943, "endLine": 1045, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1048, "endLine": 1052, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1055, "endLine": 1115, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1118, "endLine": 1220, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1223, "endLine": 1227, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1230, "endLine": 1237, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1240, "endLine": 1279, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1282, "endLine": 1442, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1445, "endLine": 1501, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1504, "endLine": 1533, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1536, "endLine": 1557, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1562, "endLine": 1716, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1719, "endLine": 1908, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1911, "endLine": 1934, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 141, "endLine": 143, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 274, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "ValueClassification", "type": "class", "line": 464, "endLine": 468, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 742, "endLine": 787, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 849, "endLine": 851, "file": "src/nnsight/remote.py"}, {"id": "is_server_available_module", "type": "function", "line": 63, "endLine": 75, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 146, "endLine": 190, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 185, "endLine": 186, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 193, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 265, "endLine": 461, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 275, "endLine": 278, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 280, "endLine": 281, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 283, "endLine": 284, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 286, "endLine": 288, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 290, "endLine": 291, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 293, "endLine": 332, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 334, "endLine": 336, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 338, "endLine": 356, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 358, "endLine": 363, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 365, "endLine": 372, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 374, "endLine": 379, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 381, "endLine": 386, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 388, "endLine": 393, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 395, "endLine": 401, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 403, "endLine": 408, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Lambda", "type": "method", "line": 410, "endLine": 421, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 423, "endLine": 426, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 428, "endLine": 431, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 433, "endLine": 437, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 439, "endLine": 445, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 447, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "classify_reference_value", "type": "function", "line": 471, "endLine": 521, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 524, "endLine": 576, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 579, "endLine": 628, "file": "src/nnsight/remote.py"}, {"id": "_extract_closure_from_function", "type": "function", "line": 631, "endLine": 691, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 694, "endLine": 729, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 732, "endLine": 790, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 743, "endLine": 747, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 749, "endLine": 752, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 754, "endLine": 769, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 771, "endLine": 787, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 793, "endLine": 828, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 831, "endLine": 842, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 854, "endLine": 964, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 967, "endLine": 969, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 972, "endLine": 1005, "file": "src/nnsight/remote.py"}, {"id": "is_remote_object", "type": "function", "line": 1008, "endLine": 1018, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 266, "endLine": 328, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 331, "endLine": 389, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 399, "endLine": 471, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 478, "endLine": 524, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 527, "endLine": 581, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 588, "endLine": 590, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 593, "endLine": 595, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "classify_reference_value", "target": "is_json_serializable", "type": "calls"}, {"source": "classify_reference_value", "target": "is_server_available_module", "type": "calls"}, {"source": "resolve_module_references", "target": "classify_reference_value", "type": "calls"}, {"source": "extract_closure_variables", "target": "_extract_closure_from_function", "type": "calls"}, {"source": "_extract_closure_from_function", "target": "classify_reference_value", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Import", "target": "is_server_available_module", "type": "calls"}, {"source": "Validator.visit_ImportFrom", "target": "is_server_available_module", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "2fcd2bf", "date": "2026-01-03", "message": "Document NameFinder limitations and why ReferenceCollector c", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3550, "testCount": 290, "nodeCount": 98, "edgeCount": 110, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 35, "endLine": 37, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder", "type": "class", "line": 800, "endLine": 831, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 48, "endLine": 77, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 80, "endLine": 241, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 244, "endLine": 252, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 263, "endLine": 280, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 283, "endLine": 423, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 426, "endLine": 501, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 504, "endLine": 555, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 558, "endLine": 591, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 594, "endLine": 680, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 683, "endLine": 701, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 704, "endLine": 726, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 729, "endLine": 732, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 735, "endLine": 740, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 743, "endLine": 902, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.__init__", "type": "method", "line": 801, "endLine": 803, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_Name", "type": "method", "line": 805, "endLine": 810, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_FunctionDef", "type": "method", "line": 812, "endLine": 825, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_ClassDef", "type": "method", "line": 829, "endLine": 831, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 905, "endLine": 980, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 983, "endLine": 1085, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1088, "endLine": 1092, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_remote_object", "type": "function", "line": 1095, "endLine": 1105, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1108, "endLine": 1168, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1171, "endLine": 1275, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1278, "endLine": 1282, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1285, "endLine": 1292, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1295, "endLine": 1334, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1337, "endLine": 1498, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1501, "endLine": 1557, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1560, "endLine": 1592, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1595, "endLine": 1616, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1621, "endLine": 1775, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1778, "endLine": 1967, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1970, "endLine": 1993, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 141, "endLine": 143, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 274, "endLine": 405, "file": "src/nnsight/remote.py"}, {"id": "ValueClassification", "type": "class", "line": 419, "endLine": 423, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 682, "endLine": 729, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 791, "endLine": 793, "file": "src/nnsight/remote.py"}, {"id": "is_server_available_module", "type": "function", "line": 63, "endLine": 75, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 146, "endLine": 190, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 185, "endLine": 186, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 193, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 265, "endLine": 416, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 275, "endLine": 278, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 280, "endLine": 281, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 283, "endLine": 284, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 286, "endLine": 288, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 290, "endLine": 291, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 293, "endLine": 310, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 312, "endLine": 314, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 316, "endLine": 324, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 326, "endLine": 331, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 333, "endLine": 340, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 342, "endLine": 347, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 349, "endLine": 354, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 356, "endLine": 361, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 363, "endLine": 369, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 371, "endLine": 376, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 378, "endLine": 381, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 383, "endLine": 386, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 388, "endLine": 392, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 394, "endLine": 400, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 402, "endLine": 405, "file": "src/nnsight/remote.py"}, {"id": "classify_reference_value", "type": "function", "line": 426, "endLine": 473, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 476, "endLine": 528, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 531, "endLine": 580, "file": "src/nnsight/remote.py"}, {"id": "_extract_closure_from_function", "type": "function", "line": 583, "endLine": 643, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 646, "endLine": 669, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 672, "endLine": 732, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 683, "endLine": 688, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 690, "endLine": 694, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 696, "endLine": 711, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 713, "endLine": 729, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 735, "endLine": 770, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 773, "endLine": 784, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 796, "endLine": 906, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 909, "endLine": 911, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 914, "endLine": 947, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 266, "endLine": 328, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 331, "endLine": 389, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 399, "endLine": 471, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 478, "endLine": 524, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 527, "endLine": 581, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 588, "endLine": 590, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 593, "endLine": 595, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "is_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "NameFinder.__init__", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "is_remote_object", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "is_remote_object", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "classify_reference_value", "target": "is_json_serializable", "type": "calls"}, {"source": "resolve_module_references", "target": "classify_reference_value", "type": "calls"}, {"source": "extract_closure_variables", "target": "_extract_closure_from_function", "type": "calls"}, {"source": "_extract_closure_from_function", "target": "classify_reference_value", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "30f29e8", "date": "2026-01-03", "message": "Consolidate server-available module lists into single source", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3550, "testCount": 289, "nodeCount": 98, "edgeCount": 110, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 35, "endLine": 37, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder", "type": "class", "line": 797, "endLine": 828, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 48, "endLine": 77, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 80, "endLine": 241, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 244, "endLine": 252, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 263, "endLine": 280, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 283, "endLine": 423, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 426, "endLine": 501, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 504, "endLine": 555, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 558, "endLine": 591, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 594, "endLine": 680, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 683, "endLine": 701, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 704, "endLine": 726, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 729, "endLine": 732, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 735, "endLine": 740, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 743, "endLine": 902, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.__init__", "type": "method", "line": 798, "endLine": 800, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_Name", "type": "method", "line": 802, "endLine": 807, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_FunctionDef", "type": "method", "line": 809, "endLine": 822, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_ClassDef", "type": "method", "line": 826, "endLine": 828, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 905, "endLine": 980, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 983, "endLine": 1085, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1088, "endLine": 1092, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_remote_object", "type": "function", "line": 1095, "endLine": 1105, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1108, "endLine": 1168, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1171, "endLine": 1275, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1278, "endLine": 1282, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1285, "endLine": 1292, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1295, "endLine": 1334, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1337, "endLine": 1498, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1501, "endLine": 1557, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1560, "endLine": 1592, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1595, "endLine": 1616, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1621, "endLine": 1775, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1778, "endLine": 1967, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1970, "endLine": 1993, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 141, "endLine": 143, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 274, "endLine": 405, "file": "src/nnsight/remote.py"}, {"id": "ValueClassification", "type": "class", "line": 419, "endLine": 423, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 682, "endLine": 729, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 791, "endLine": 793, "file": "src/nnsight/remote.py"}, {"id": "is_server_available_module", "type": "function", "line": 63, "endLine": 75, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 146, "endLine": 190, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 185, "endLine": 186, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 193, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 265, "endLine": 416, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 275, "endLine": 278, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 280, "endLine": 281, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 283, "endLine": 284, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 286, "endLine": 288, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 290, "endLine": 291, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 293, "endLine": 310, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 312, "endLine": 314, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 316, "endLine": 324, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 326, "endLine": 331, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 333, "endLine": 340, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 342, "endLine": 347, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 349, "endLine": 354, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 356, "endLine": 361, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 363, "endLine": 369, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 371, "endLine": 376, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 378, "endLine": 381, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 383, "endLine": 386, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 388, "endLine": 392, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 394, "endLine": 400, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 402, "endLine": 405, "file": "src/nnsight/remote.py"}, {"id": "classify_reference_value", "type": "function", "line": 426, "endLine": 473, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 476, "endLine": 528, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 531, "endLine": 580, "file": "src/nnsight/remote.py"}, {"id": "_extract_closure_from_function", "type": "function", "line": 583, "endLine": 643, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 646, "endLine": 669, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 672, "endLine": 732, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 683, "endLine": 688, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 690, "endLine": 694, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 696, "endLine": 711, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 713, "endLine": 729, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 735, "endLine": 770, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 773, "endLine": 784, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 796, "endLine": 906, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 909, "endLine": 911, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 914, "endLine": 947, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 266, "endLine": 328, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 331, "endLine": 389, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 399, "endLine": 471, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 478, "endLine": 524, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 527, "endLine": 581, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 588, "endLine": 590, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 593, "endLine": 595, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "is_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "NameFinder.__init__", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "is_remote_object", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "is_remote_object", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "classify_reference_value", "target": "is_json_serializable", "type": "calls"}, {"source": "resolve_module_references", "target": "classify_reference_value", "type": "calls"}, {"source": "extract_closure_variables", "target": "_extract_closure_from_function", "type": "calls"}, {"source": "_extract_closure_from_function", "target": "classify_reference_value", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "4b05073", "date": "2026-01-03", "message": "Fix detection of overridden builtins and add edge case tests", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3539, "testCount": 286, "nodeCount": 97, "edgeCount": 110, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 34, "endLine": 36, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder", "type": "class", "line": 820, "endLine": 851, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 47, "endLine": 76, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 79, "endLine": 240, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 243, "endLine": 251, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 262, "endLine": 279, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 282, "endLine": 422, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 425, "endLine": 500, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 503, "endLine": 554, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 557, "endLine": 590, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 593, "endLine": 679, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 682, "endLine": 700, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 703, "endLine": 725, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 728, "endLine": 731, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 734, "endLine": 763, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 766, "endLine": 943, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.__init__", "type": "method", "line": 821, "endLine": 823, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_Name", "type": "method", "line": 825, "endLine": 830, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_FunctionDef", "type": "method", "line": 832, "endLine": 845, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_ClassDef", "type": "method", "line": 849, "endLine": 851, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 946, "endLine": 1021, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 1024, "endLine": 1126, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1129, "endLine": 1133, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_remote_object", "type": "function", "line": 1136, "endLine": 1146, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1149, "endLine": 1209, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1212, "endLine": 1316, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1319, "endLine": 1323, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1326, "endLine": 1333, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1336, "endLine": 1375, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1378, "endLine": 1539, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1542, "endLine": 1598, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1601, "endLine": 1633, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1636, "endLine": 1657, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1662, "endLine": 1816, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1819, "endLine": 2008, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 2011, "endLine": 2034, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 93, "endLine": 95, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 226, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "ValueClassification", "type": "class", "line": 371, "endLine": 375, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 634, "endLine": 681, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 743, "endLine": 745, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 98, "endLine": 142, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 137, "endLine": 138, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 145, "endLine": 214, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 217, "endLine": 368, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 227, "endLine": 230, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 232, "endLine": 233, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 235, "endLine": 236, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 238, "endLine": 240, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 242, "endLine": 243, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 245, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 264, "endLine": 266, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 268, "endLine": 276, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 278, "endLine": 283, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 285, "endLine": 292, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 294, "endLine": 299, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 301, "endLine": 306, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 308, "endLine": 313, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 315, "endLine": 321, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 323, "endLine": 328, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 330, "endLine": 333, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 335, "endLine": 338, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 340, "endLine": 344, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 346, "endLine": 352, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 354, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "classify_reference_value", "type": "function", "line": 378, "endLine": 425, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 428, "endLine": 480, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 483, "endLine": 532, "file": "src/nnsight/remote.py"}, {"id": "_extract_closure_from_function", "type": "function", "line": 535, "endLine": 595, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 598, "endLine": 621, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 624, "endLine": 684, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 635, "endLine": 640, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 642, "endLine": 646, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 648, "endLine": 663, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 665, "endLine": 681, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 687, "endLine": 722, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 725, "endLine": 736, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 748, "endLine": 858, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 861, "endLine": 863, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 866, "endLine": 899, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 267, "endLine": 329, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 332, "endLine": 390, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 400, "endLine": 472, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 479, "endLine": 525, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 528, "endLine": 582, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 589, "endLine": 591, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 594, "endLine": 596, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "is_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "NameFinder.__init__", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "is_remote_object", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "is_remote_object", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "classify_reference_value", "target": "is_json_serializable", "type": "calls"}, {"source": "resolve_module_references", "target": "classify_reference_value", "type": "calls"}, {"source": "extract_closure_variables", "target": "_extract_closure_from_function", "type": "calls"}, {"source": "_extract_closure_from_function", "target": "classify_reference_value", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "6bf5af5", "date": "2026-01-03", "message": "Add LanguageModel subclass serialization for remote executio", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3430, "testCount": 257, "nodeCount": 94, "edgeCount": 108, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 34, "endLine": 36, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder", "type": "class", "line": 820, "endLine": 838, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 47, "endLine": 76, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 79, "endLine": 240, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 243, "endLine": 251, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 262, "endLine": 279, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 282, "endLine": 422, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 425, "endLine": 500, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 503, "endLine": 554, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 557, "endLine": 590, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 593, "endLine": 679, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 682, "endLine": 700, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 703, "endLine": 725, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 728, "endLine": 731, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 734, "endLine": 763, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 766, "endLine": 927, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.__init__", "type": "method", "line": 821, "endLine": 823, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_Name", "type": "method", "line": 825, "endLine": 830, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_FunctionDef", "type": "method", "line": 832, "endLine": 834, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_ClassDef", "type": "method", "line": 836, "endLine": 838, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 930, "endLine": 1005, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 1008, "endLine": 1110, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1113, "endLine": 1117, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_remote_object", "type": "function", "line": 1120, "endLine": 1130, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1133, "endLine": 1193, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1196, "endLine": 1300, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1303, "endLine": 1307, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1310, "endLine": 1317, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1320, "endLine": 1359, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1362, "endLine": 1513, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1516, "endLine": 1542, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1545, "endLine": 1577, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1580, "endLine": 1601, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1606, "endLine": 1760, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1763, "endLine": 1937, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1940, "endLine": 1963, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 93, "endLine": 95, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 226, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 592, "endLine": 639, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 705, "endLine": 707, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 98, "endLine": 142, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 137, "endLine": 138, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 145, "endLine": 214, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 217, "endLine": 366, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 227, "endLine": 230, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 232, "endLine": 233, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 235, "endLine": 236, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 238, "endLine": 240, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 242, "endLine": 243, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 245, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 264, "endLine": 266, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 268, "endLine": 276, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 278, "endLine": 283, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 285, "endLine": 292, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 294, "endLine": 299, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 301, "endLine": 306, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 308, "endLine": 313, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 315, "endLine": 321, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 323, "endLine": 328, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 330, "endLine": 333, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 335, "endLine": 338, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 340, "endLine": 344, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 346, "endLine": 352, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 354, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 369, "endLine": 460, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 463, "endLine": 553, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 556, "endLine": 579, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 582, "endLine": 642, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 593, "endLine": 598, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 600, "endLine": 604, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 606, "endLine": 621, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 623, "endLine": 639, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 645, "endLine": 684, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 687, "endLine": 698, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 710, "endLine": 820, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 823, "endLine": 825, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 828, "endLine": 861, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 267, "endLine": 329, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 332, "endLine": 390, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 400, "endLine": 472, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 479, "endLine": 525, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 528, "endLine": 582, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 589, "endLine": 591, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 594, "endLine": 596, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "is_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "NameFinder.__init__", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "is_remote_object", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "is_remote_object", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "resolve_module_references", "target": "is_json_serializable", "type": "calls"}, {"source": "extract_closure_variables", "target": "is_json_serializable", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "7e50565", "date": "2026-01-03", "message": "Refactor serialization code for clarity and maintainability", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3629, "testCount": 301, "nodeCount": 95, "edgeCount": 114, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 35, "endLine": 37, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "_get_remote_metadata", "type": "function", "line": 75, "endLine": 108, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 119, "endLine": 146, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 149, "endLine": 297, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 300, "endLine": 308, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 319, "endLine": 336, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 339, "endLine": 479, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 482, "endLine": 557, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 560, "endLine": 611, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 614, "endLine": 647, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 650, "endLine": 730, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 733, "endLine": 751, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 760, "endLine": 782, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 785, "endLine": 788, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 791, "endLine": 796, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 799, "endLine": 922, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 925, "endLine": 1000, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 1003, "endLine": 1105, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1113, "endLine": 1117, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1120, "endLine": 1157, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1160, "endLine": 1262, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1271, "endLine": 1275, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1278, "endLine": 1285, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1288, "endLine": 1327, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1330, "endLine": 1490, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1493, "endLine": 1549, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1552, "endLine": 1581, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1590, "endLine": 1611, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1616, "endLine": 1770, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1779, "endLine": 1968, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1971, "endLine": 1994, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 141, "endLine": 143, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 274, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "ValueClassification", "type": "class", "line": 464, "endLine": 468, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 742, "endLine": 792, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 854, "endLine": 856, "file": "src/nnsight/remote.py"}, {"id": "is_server_available_module", "type": "function", "line": 63, "endLine": 75, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 146, "endLine": 190, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 185, "endLine": 186, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 193, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 265, "endLine": 461, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 275, "endLine": 278, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 280, "endLine": 281, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 283, "endLine": 284, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 286, "endLine": 288, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 290, "endLine": 291, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 293, "endLine": 332, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 334, "endLine": 336, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 338, "endLine": 356, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 358, "endLine": 363, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 365, "endLine": 372, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 374, "endLine": 379, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 381, "endLine": 386, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 388, "endLine": 393, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 395, "endLine": 401, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 403, "endLine": 408, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Lambda", "type": "method", "line": 410, "endLine": 421, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 423, "endLine": 426, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 428, "endLine": 431, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 433, "endLine": 437, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 439, "endLine": 445, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 447, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "classify_reference_value", "type": "function", "line": 471, "endLine": 521, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 524, "endLine": 576, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 579, "endLine": 628, "file": "src/nnsight/remote.py"}, {"id": "_extract_closure_from_function", "type": "function", "line": 631, "endLine": 691, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 694, "endLine": 729, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 732, "endLine": 795, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 743, "endLine": 747, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 749, "endLine": 757, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 759, "endLine": 774, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 776, "endLine": 792, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 798, "endLine": 833, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 836, "endLine": 847, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 859, "endLine": 969, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 972, "endLine": 974, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 977, "endLine": 1010, "file": "src/nnsight/remote.py"}, {"id": "is_remote_object", "type": "function", "line": 1013, "endLine": 1023, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 266, "endLine": 328, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 331, "endLine": 389, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 399, "endLine": 471, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 478, "endLine": 524, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 527, "endLine": 581, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 588, "endLine": 590, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 593, "endLine": 595, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "auto_discover_class", "target": "_get_remote_metadata", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "_get_remote_metadata", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "classify_reference_value", "target": "is_json_serializable", "type": "calls"}, {"source": "classify_reference_value", "target": "is_server_available_module", "type": "calls"}, {"source": "resolve_module_references", "target": "classify_reference_value", "type": "calls"}, {"source": "extract_closure_variables", "target": "_extract_closure_from_function", "type": "calls"}, {"source": "_extract_closure_from_function", "target": "classify_reference_value", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Import", "target": "is_server_available_module", "type": "calls"}, {"source": "Validator.visit_ImportFrom", "target": "is_server_available_module", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "88470aa", "date": "2026-01-03", "message": "Consolidate module availability checks", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3552, "testCount": 292, "nodeCount": 94, "edgeCount": 112, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 35, "endLine": 37, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 48, "endLine": 75, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 78, "endLine": 239, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 242, "endLine": 250, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 261, "endLine": 278, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 281, "endLine": 421, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 424, "endLine": 499, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 502, "endLine": 553, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 556, "endLine": 589, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 592, "endLine": 676, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 679, "endLine": 697, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 700, "endLine": 722, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 725, "endLine": 728, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 731, "endLine": 736, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 739, "endLine": 862, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 865, "endLine": 940, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 943, "endLine": 1045, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1048, "endLine": 1052, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1055, "endLine": 1115, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1118, "endLine": 1220, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1223, "endLine": 1227, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1230, "endLine": 1237, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1240, "endLine": 1279, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1282, "endLine": 1442, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1445, "endLine": 1501, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1504, "endLine": 1533, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1536, "endLine": 1557, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1562, "endLine": 1716, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1719, "endLine": 1908, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1911, "endLine": 1934, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 141, "endLine": 143, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 274, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "ValueClassification", "type": "class", "line": 464, "endLine": 468, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 730, "endLine": 775, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 837, "endLine": 839, "file": "src/nnsight/remote.py"}, {"id": "is_server_available_module", "type": "function", "line": 63, "endLine": 75, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 146, "endLine": 190, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 185, "endLine": 186, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 193, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 265, "endLine": 461, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 275, "endLine": 278, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 280, "endLine": 281, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 283, "endLine": 284, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 286, "endLine": 288, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 290, "endLine": 291, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 293, "endLine": 332, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 334, "endLine": 336, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 338, "endLine": 356, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 358, "endLine": 363, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 365, "endLine": 372, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 374, "endLine": 379, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 381, "endLine": 386, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 388, "endLine": 393, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 395, "endLine": 401, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 403, "endLine": 408, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Lambda", "type": "method", "line": 410, "endLine": 421, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 423, "endLine": 426, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 428, "endLine": 431, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 433, "endLine": 437, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 439, "endLine": 445, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 447, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "classify_reference_value", "type": "function", "line": 471, "endLine": 521, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 524, "endLine": 576, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 579, "endLine": 628, "file": "src/nnsight/remote.py"}, {"id": "_extract_closure_from_function", "type": "function", "line": 631, "endLine": 691, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 694, "endLine": 717, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 720, "endLine": 778, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 731, "endLine": 735, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 737, "endLine": 740, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 742, "endLine": 757, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 759, "endLine": 775, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 781, "endLine": 816, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 819, "endLine": 830, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 842, "endLine": 952, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 955, "endLine": 957, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 960, "endLine": 993, "file": "src/nnsight/remote.py"}, {"id": "is_remote_object", "type": "function", "line": 996, "endLine": 1006, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 266, "endLine": 328, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 331, "endLine": 389, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 399, "endLine": 471, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 478, "endLine": 524, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 527, "endLine": 581, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 588, "endLine": 590, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 593, "endLine": 595, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "classify_reference_value", "target": "is_json_serializable", "type": "calls"}, {"source": "classify_reference_value", "target": "is_server_available_module", "type": "calls"}, {"source": "resolve_module_references", "target": "classify_reference_value", "type": "calls"}, {"source": "extract_closure_variables", "target": "_extract_closure_from_function", "type": "calls"}, {"source": "_extract_closure_from_function", "target": "classify_reference_value", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Import", "target": "is_server_available_module", "type": "calls"}, {"source": "Validator.visit_ImportFrom", "target": "is_server_available_module", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "9ac7ff3", "date": "2026-01-03", "message": "Strengthen test coverage and add relative import prohibition", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3569, "testCount": 301, "nodeCount": 94, "edgeCount": 112, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 35, "endLine": 37, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 48, "endLine": 75, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 78, "endLine": 239, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 242, "endLine": 250, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 261, "endLine": 278, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 281, "endLine": 421, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 424, "endLine": 499, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 502, "endLine": 553, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 556, "endLine": 589, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 592, "endLine": 676, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 679, "endLine": 697, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 700, "endLine": 722, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 725, "endLine": 728, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 731, "endLine": 736, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 739, "endLine": 862, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 865, "endLine": 940, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 943, "endLine": 1045, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1048, "endLine": 1052, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1055, "endLine": 1115, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1118, "endLine": 1220, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1223, "endLine": 1227, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1230, "endLine": 1237, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1240, "endLine": 1279, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1282, "endLine": 1442, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1445, "endLine": 1501, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1504, "endLine": 1533, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1536, "endLine": 1557, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1562, "endLine": 1716, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1719, "endLine": 1908, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1911, "endLine": 1934, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 141, "endLine": 143, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 274, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "ValueClassification", "type": "class", "line": 464, "endLine": 468, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 742, "endLine": 792, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 854, "endLine": 856, "file": "src/nnsight/remote.py"}, {"id": "is_server_available_module", "type": "function", "line": 63, "endLine": 75, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 146, "endLine": 190, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 185, "endLine": 186, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 193, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 265, "endLine": 461, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 275, "endLine": 278, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 280, "endLine": 281, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 283, "endLine": 284, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 286, "endLine": 288, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 290, "endLine": 291, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 293, "endLine": 332, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 334, "endLine": 336, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 338, "endLine": 356, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 358, "endLine": 363, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 365, "endLine": 372, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 374, "endLine": 379, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 381, "endLine": 386, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 388, "endLine": 393, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 395, "endLine": 401, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 403, "endLine": 408, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Lambda", "type": "method", "line": 410, "endLine": 421, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 423, "endLine": 426, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 428, "endLine": 431, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 433, "endLine": 437, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 439, "endLine": 445, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 447, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "classify_reference_value", "type": "function", "line": 471, "endLine": 521, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 524, "endLine": 576, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 579, "endLine": 628, "file": "src/nnsight/remote.py"}, {"id": "_extract_closure_from_function", "type": "function", "line": 631, "endLine": 691, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 694, "endLine": 729, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 732, "endLine": 795, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 743, "endLine": 747, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 749, "endLine": 757, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 759, "endLine": 774, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 776, "endLine": 792, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 798, "endLine": 833, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 836, "endLine": 847, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 859, "endLine": 969, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 972, "endLine": 974, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 977, "endLine": 1010, "file": "src/nnsight/remote.py"}, {"id": "is_remote_object", "type": "function", "line": 1013, "endLine": 1023, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 266, "endLine": 328, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 331, "endLine": 389, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 399, "endLine": 471, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 478, "endLine": 524, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 527, "endLine": 581, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 588, "endLine": 590, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 593, "endLine": 595, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "classify_reference_value", "target": "is_json_serializable", "type": "calls"}, {"source": "classify_reference_value", "target": "is_server_available_module", "type": "calls"}, {"source": "resolve_module_references", "target": "classify_reference_value", "type": "calls"}, {"source": "extract_closure_variables", "target": "_extract_closure_from_function", "type": "calls"}, {"source": "_extract_closure_from_function", "target": "classify_reference_value", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Import", "target": "is_server_available_module", "type": "calls"}, {"source": "Validator.visit_ImportFrom", "target": "is_server_available_module", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "a43b100", "date": "2026-01-03", "message": "Add __slots__, class method closures, and enum serialization", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3528, "testCount": 277, "nodeCount": 95, "edgeCount": 109, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 34, "endLine": 36, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder", "type": "class", "line": 820, "endLine": 838, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 47, "endLine": 76, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 79, "endLine": 240, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 243, "endLine": 251, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 262, "endLine": 279, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 282, "endLine": 422, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 425, "endLine": 500, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 503, "endLine": 554, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 557, "endLine": 590, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 593, "endLine": 679, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 682, "endLine": 700, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 703, "endLine": 725, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 728, "endLine": 731, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 734, "endLine": 763, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 766, "endLine": 927, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.__init__", "type": "method", "line": 821, "endLine": 823, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_Name", "type": "method", "line": 825, "endLine": 830, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_FunctionDef", "type": "method", "line": 832, "endLine": 834, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_ClassDef", "type": "method", "line": 836, "endLine": 838, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 930, "endLine": 1005, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 1008, "endLine": 1110, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1113, "endLine": 1117, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_remote_object", "type": "function", "line": 1120, "endLine": 1130, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1133, "endLine": 1193, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1196, "endLine": 1300, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1303, "endLine": 1307, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1310, "endLine": 1317, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1320, "endLine": 1359, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1362, "endLine": 1523, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1526, "endLine": 1582, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1585, "endLine": 1617, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1620, "endLine": 1641, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1646, "endLine": 1800, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1803, "endLine": 1992, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1995, "endLine": 2018, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 93, "endLine": 95, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 226, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 639, "endLine": 686, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 748, "endLine": 750, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 98, "endLine": 142, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 137, "endLine": 138, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 145, "endLine": 214, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 217, "endLine": 366, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 227, "endLine": 230, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 232, "endLine": 233, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 235, "endLine": 236, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 238, "endLine": 240, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 242, "endLine": 243, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 245, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 264, "endLine": 266, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 268, "endLine": 276, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 278, "endLine": 283, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 285, "endLine": 292, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 294, "endLine": 299, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 301, "endLine": 306, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 308, "endLine": 313, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 315, "endLine": 321, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 323, "endLine": 328, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 330, "endLine": 333, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 335, "endLine": 338, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 340, "endLine": 344, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 346, "endLine": 352, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 354, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 369, "endLine": 460, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 463, "endLine": 512, "file": "src/nnsight/remote.py"}, {"id": "_extract_closure_from_function", "type": "function", "line": 515, "endLine": 600, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 603, "endLine": 626, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 629, "endLine": 689, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 640, "endLine": 645, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 647, "endLine": 651, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 653, "endLine": 668, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 670, "endLine": 686, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 692, "endLine": 727, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 730, "endLine": 741, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 753, "endLine": 863, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 866, "endLine": 868, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 871, "endLine": 904, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 267, "endLine": 329, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 332, "endLine": 390, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 400, "endLine": 472, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 479, "endLine": 525, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 528, "endLine": 582, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 589, "endLine": 591, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 594, "endLine": 596, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "is_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "NameFinder.__init__", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "is_remote_object", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "is_remote_object", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "resolve_module_references", "target": "is_json_serializable", "type": "calls"}, {"source": "extract_closure_variables", "target": "_extract_closure_from_function", "type": "calls"}, {"source": "_extract_closure_from_function", "target": "is_json_serializable", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "a9fe0fa", "date": "2026-01-03", "message": "Add nn.Module support with recursive __dict__ serialization", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 2633, "testCount": 245, "nodeCount": 79, "edgeCount": 91, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 28, "endLine": 30, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 41, "endLine": 58, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 61, "endLine": 201, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 204, "endLine": 279, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 282, "endLine": 316, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 319, "endLine": 352, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 355, "endLine": 440, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 443, "endLine": 457, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_remote_object", "type": "function", "line": 460, "endLine": 470, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 473, "endLine": 531, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 534, "endLine": 638, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 641, "endLine": 645, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 648, "endLine": 655, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 658, "endLine": 687, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 690, "endLine": 784, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 787, "endLine": 818, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 821, "endLine": 853, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 856, "endLine": 871, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 876, "endLine": 1016, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1019, "endLine": 1140, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1143, "endLine": 1166, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 93, "endLine": 95, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 226, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 592, "endLine": 639, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 705, "endLine": 707, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 98, "endLine": 142, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 137, "endLine": 138, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 145, "endLine": 214, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 217, "endLine": 366, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 227, "endLine": 230, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 232, "endLine": 233, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 235, "endLine": 236, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 238, "endLine": 240, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 242, "endLine": 243, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 245, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 264, "endLine": 266, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 268, "endLine": 276, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 278, "endLine": 283, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 285, "endLine": 292, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 294, "endLine": 299, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 301, "endLine": 306, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 308, "endLine": 313, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 315, "endLine": 321, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 323, "endLine": 328, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 330, "endLine": 333, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 335, "endLine": 338, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 340, "endLine": 344, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 346, "endLine": 352, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 354, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 369, "endLine": 460, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 463, "endLine": 553, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 556, "endLine": 579, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 582, "endLine": 642, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 593, "endLine": 598, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 600, "endLine": 604, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 606, "endLine": 621, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 623, "endLine": 639, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 645, "endLine": 684, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 687, "endLine": 698, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 710, "endLine": 820, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 823, "endLine": 825, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 828, "endLine": 861, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 267, "endLine": 329, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 332, "endLine": 390, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 400, "endLine": 472, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 479, "endLine": 525, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 528, "endLine": 582, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 589, "endLine": 591, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 594, "endLine": 596, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "is_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "is_remote_object", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "is_remote_object", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "serialize_instance_state", "target": "SourceSerializationError", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "resolve_module_references", "target": "is_json_serializable", "type": "calls"}, {"source": "extract_closure_variables", "target": "is_json_serializable", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "ba559b0", "date": "2026-01-03", "message": "Preserve original file/line numbers in error tracebacks", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3665, "testCount": 305, "nodeCount": 97, "edgeCount": 116, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 35, "endLine": 37, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "_get_remote_metadata", "type": "function", "line": 75, "endLine": 108, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 119, "endLine": 146, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 149, "endLine": 297, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 300, "endLine": 308, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 319, "endLine": 336, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 339, "endLine": 479, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 482, "endLine": 557, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 560, "endLine": 611, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 614, "endLine": 647, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 650, "endLine": 730, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 733, "endLine": 751, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 760, "endLine": 782, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 785, "endLine": 788, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 791, "endLine": 796, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 799, "endLine": 922, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 925, "endLine": 1000, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 1003, "endLine": 1109, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1117, "endLine": 1121, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1124, "endLine": 1161, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1164, "endLine": 1266, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1275, "endLine": 1279, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1282, "endLine": 1289, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1292, "endLine": 1331, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1334, "endLine": 1494, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1497, "endLine": 1553, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1556, "endLine": 1585, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1594, "endLine": 1615, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "_exec_with_source_info", "type": "function", "line": 1620, "endLine": 1642, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1645, "endLine": 1806, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "exec_func", "type": "function", "line": 1716, "endLine": 1717, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1815, "endLine": 2004, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 2007, "endLine": 2030, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 141, "endLine": 143, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 274, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "ValueClassification", "type": "class", "line": 464, "endLine": 468, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 742, "endLine": 792, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 854, "endLine": 856, "file": "src/nnsight/remote.py"}, {"id": "is_server_available_module", "type": "function", "line": 63, "endLine": 75, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 146, "endLine": 190, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 185, "endLine": 186, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 193, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 265, "endLine": 461, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 275, "endLine": 278, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 280, "endLine": 281, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 283, "endLine": 284, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 286, "endLine": 288, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 290, "endLine": 291, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 293, "endLine": 332, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 334, "endLine": 336, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 338, "endLine": 356, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 358, "endLine": 363, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 365, "endLine": 372, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 374, "endLine": 379, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 381, "endLine": 386, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 388, "endLine": 393, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 395, "endLine": 401, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 403, "endLine": 408, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Lambda", "type": "method", "line": 410, "endLine": 421, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 423, "endLine": 426, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 428, "endLine": 431, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 433, "endLine": 437, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 439, "endLine": 445, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 447, "endLine": 450, "file": "src/nnsight/remote.py"}, {"id": "classify_reference_value", "type": "function", "line": 471, "endLine": 521, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 524, "endLine": 576, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 579, "endLine": 628, "file": "src/nnsight/remote.py"}, {"id": "_extract_closure_from_function", "type": "function", "line": 631, "endLine": 691, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 694, "endLine": 729, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 732, "endLine": 795, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 743, "endLine": 747, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 749, "endLine": 757, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 759, "endLine": 774, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 776, "endLine": 792, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 798, "endLine": 833, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 836, "endLine": 847, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 859, "endLine": 969, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 972, "endLine": 974, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 977, "endLine": 1010, "file": "src/nnsight/remote.py"}, {"id": "is_remote_object", "type": "function", "line": 1013, "endLine": 1023, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 266, "endLine": 328, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 331, "endLine": 389, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 399, "endLine": 471, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 478, "endLine": 524, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 527, "endLine": 581, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 588, "endLine": 590, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 593, "endLine": 595, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "auto_discover_class", "target": "_get_remote_metadata", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "_get_remote_metadata", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "exec_func", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "exec_func", "target": "_exec_with_source_info", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Lambda", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "classify_reference_value", "target": "is_json_serializable", "type": "calls"}, {"source": "classify_reference_value", "target": "is_server_available_module", "type": "calls"}, {"source": "resolve_module_references", "target": "classify_reference_value", "type": "calls"}, {"source": "extract_closure_variables", "target": "_extract_closure_from_function", "type": "calls"}, {"source": "_extract_closure_from_function", "target": "classify_reference_value", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Import", "target": "is_server_available_module", "type": "calls"}, {"source": "Validator.visit_ImportFrom", "target": "is_server_available_module", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}, {"hash": "dd7729c", "date": "2026-01-03", "message": "Refactor: extract shared classify_reference_value helper", "claudeCoauthored": true, "geminiCoauthored": false, "codexCoauthored": false, "lineCount": 3511, "testCount": 281, "nodeCount": 97, "edgeCount": 110, "nodes": [{"id": "SourceSerializationError", "type": "class", "line": 34, "endLine": 36, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder", "type": "class", "line": 820, "endLine": 838, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_auto_discover", "type": "function", "line": 47, "endLine": 76, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_class", "type": "function", "line": 79, "endLine": 240, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_auto_discoverable_instance", "type": "function", "line": 243, "endLine": 251, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_tensor", "type": "function", "line": 262, "endLine": 279, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_tensor", "type": "function", "line": 282, "endLine": 422, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_tensor", "type": "function", "line": 425, "endLine": 500, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_source_based", "type": "function", "line": 503, "endLine": 554, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_source_metadata", "type": "function", "line": 557, "endLine": 590, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_all", "type": "function", "line": 593, "endLine": 679, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_model_reference", "type": "function", "line": 682, "endLine": 700, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_languagemodel_subclass", "type": "function", "line": 703, "endLine": 725, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nnsight_class", "type": "function", "line": 728, "endLine": 731, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_server_available_class", "type": "function", "line": 734, "endLine": 763, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "auto_discover_model_subclass", "type": "function", "line": 766, "endLine": 927, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.__init__", "type": "method", "line": 821, "endLine": 823, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_Name", "type": "method", "line": 825, "endLine": 830, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_FunctionDef", "type": "method", "line": 832, "endLine": 834, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "NameFinder.visit_ClassDef", "type": "method", "line": 836, "endLine": 838, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_model_subclass", "type": "function", "line": 930, "endLine": 1005, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_model_subclass", "type": "function", "line": 1008, "endLine": 1110, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_the_traced_model", "type": "function", "line": 1113, "endLine": 1117, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_remote_object", "type": "function", "line": 1120, "endLine": 1130, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_remote_object", "type": "function", "line": 1133, "endLine": 1193, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "extract_lambda_object", "type": "function", "line": 1196, "endLine": 1300, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_parameter", "type": "function", "line": 1303, "endLine": 1307, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "is_nn_module", "type": "function", "line": 1310, "endLine": 1317, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_nn_module", "type": "function", "line": 1320, "endLine": 1359, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_value", "type": "function", "line": 1362, "endLine": 1523, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "serialize_instance_state", "type": "function", "line": 1526, "endLine": 1582, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "get_callable_reference", "type": "function", "line": 1585, "endLine": 1617, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "can_serialize_source_based", "type": "function", "line": 1620, "endLine": 1641, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "deserialize_source_based", "type": "function", "line": 1646, "endLine": 1800, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_value", "type": "function", "line": 1803, "endLine": 1992, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "reconstruct_state", "type": "function", "line": 1995, "endLine": 2018, "file": "src/nnsight/intervention/serialization_source.py"}, {"id": "RemoteValidationError", "type": "class", "line": 93, "endLine": 95, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector", "type": "class", "line": 226, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "ValueClassification", "type": "class", "line": 369, "endLine": 373, "file": "src/nnsight/remote.py"}, {"id": "Validator", "type": "class", "line": 622, "endLine": 669, "file": "src/nnsight/remote.py"}, {"id": "LambdaExtractionError", "type": "class", "line": 731, "endLine": 733, "file": "src/nnsight/remote.py"}, {"id": "remote", "type": "function", "line": 98, "endLine": 142, "file": "src/nnsight/remote.py"}, {"id": "wrapper", "type": "function", "line": 137, "endLine": 138, "file": "src/nnsight/remote.py"}, {"id": "_apply_remote", "type": "function", "line": 145, "endLine": 214, "file": "src/nnsight/remote.py"}, {"id": "find_external_references", "type": "function", "line": 217, "endLine": 366, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.__init__", "type": "method", "line": 227, "endLine": 230, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.push_scope", "type": "method", "line": 232, "endLine": 233, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.pop_scope", "type": "method", "line": 235, "endLine": 236, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.define", "type": "method", "line": 238, "endLine": 240, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.is_defined", "type": "method", "line": 242, "endLine": 243, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_FunctionDef", "type": "method", "line": 245, "endLine": 262, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_AsyncFunctionDef", "type": "method", "line": 264, "endLine": 266, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ClassDef", "type": "method", "line": 268, "endLine": 276, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Name", "type": "method", "line": 278, "endLine": 283, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_For", "type": "method", "line": 285, "endLine": 292, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_comprehension", "type": "method", "line": 294, "endLine": 299, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ListComp", "type": "method", "line": 301, "endLine": 306, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_SetComp", "type": "method", "line": 308, "endLine": 313, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_DictComp", "type": "method", "line": 315, "endLine": 321, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_GeneratorExp", "type": "method", "line": 323, "endLine": 328, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_Import", "type": "method", "line": 330, "endLine": 333, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ImportFrom", "type": "method", "line": 335, "endLine": 338, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_ExceptHandler", "type": "method", "line": 340, "endLine": 344, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_With", "type": "method", "line": 346, "endLine": 352, "file": "src/nnsight/remote.py"}, {"id": "ReferenceCollector.visit_NamedExpr", "type": "method", "line": 354, "endLine": 357, "file": "src/nnsight/remote.py"}, {"id": "classify_reference_value", "type": "function", "line": 376, "endLine": 423, "file": "src/nnsight/remote.py"}, {"id": "resolve_module_references", "type": "function", "line": 426, "endLine": 471, "file": "src/nnsight/remote.py"}, {"id": "extract_closure_variables", "type": "function", "line": 474, "endLine": 523, "file": "src/nnsight/remote.py"}, {"id": "_extract_closure_from_function", "type": "function", "line": 526, "endLine": 583, "file": "src/nnsight/remote.py"}, {"id": "is_json_serializable", "type": "function", "line": 586, "endLine": 609, "file": "src/nnsight/remote.py"}, {"id": "validate_ast", "type": "function", "line": 612, "endLine": 672, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Import", "type": "method", "line": 623, "endLine": 628, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_ImportFrom", "type": "method", "line": 630, "endLine": 634, "file": "src/nnsight/remote.py"}, {"id": "Validator.visit_Call", "type": "method", "line": 636, "endLine": 651, "file": "src/nnsight/remote.py"}, {"id": "Validator._get_attr_chain", "type": "method", "line": 653, "endLine": 669, "file": "src/nnsight/remote.py"}, {"id": "validate_class", "type": "function", "line": 675, "endLine": 710, "file": "src/nnsight/remote.py"}, {"id": "format_validation_errors", "type": "function", "line": 713, "endLine": 724, "file": "src/nnsight/remote.py"}, {"id": "extract_lambda_source", "type": "function", "line": 736, "endLine": 846, "file": "src/nnsight/remote.py"}, {"id": "is_lambda", "type": "function", "line": 849, "endLine": 851, "file": "src/nnsight/remote.py"}, {"id": "validate_lambda_for_remote", "type": "function", "line": 854, "endLine": 887, "file": "src/nnsight/remote.py"}, {"id": "SecurityAuditError", "type": "class", "line": 50, "endLine": 52, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getattr", "type": "function", "line": 107, "endLine": 140, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getattr_", "type": "function", "line": 122, "endLine": 138, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_getitem", "type": "function", "line": 143, "endLine": 173, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_getitem_", "type": "function", "line": 155, "endLine": 171, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_import", "type": "function", "line": 176, "endLine": 225, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "_import_", "type": "function", "line": 194, "endLine": 223, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_guarded_builtins", "type": "function", "line": 228, "endLine": 252, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "wrap_builtin", "type": "function", "line": 240, "endLine": 250, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "logged_func", "type": "function", "line": 241, "endLine": 249, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_builtins", "type": "function", "line": 267, "endLine": 329, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "create_restricted_globals", "type": "function", "line": 332, "endLine": 390, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "check_imports_in_code", "type": "function", "line": 400, "endLine": 472, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "compile_user_code", "type": "function", "line": 479, "endLine": 525, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "execute_restricted", "type": "function", "line": 528, "endLine": 582, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "is_restricted_python_available", "type": "function", "line": 589, "endLine": 591, "file": "src/nnsight/intervention/restricted_execution.py"}, {"id": "get_audit_logger", "type": "function", "line": 594, "endLine": 596, "file": "src/nnsight/intervention/restricted_execution.py"}], "edges": [{"source": "auto_discover_class", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_class", "target": "auto_discover_class", "type": "calls"}, {"source": "auto_discover_class", "target": "SourceSerializationError", "type": "calls"}, {"source": "is_auto_discoverable_instance", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_tensor", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_source_based", "target": "serialize_model_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_languagemodel_subclass", "type": "calls"}, {"source": "serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "serialize_source_based", "target": "extract_source_metadata", "type": "calls"}, {"source": "extract_all", "target": "is_tensor", "type": "calls"}, {"source": "extract_all", "target": "extract_remote_object", "type": "calls"}, {"source": "extract_all", "target": "is_remote_object", "type": "calls"}, {"source": "extract_all", "target": "extract_lambda_object", "type": "calls"}, {"source": "extract_all", "target": "serialize_tensor", "type": "calls"}, {"source": "extract_all", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_all", "target": "is_model_reference", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "NameFinder.__init__", "type": "calls"}, {"source": "auto_discover_model_subclass", "target": "is_server_available_class", "type": "calls"}, {"source": "serialize_model_subclass", "target": "can_auto_discover", "type": "calls"}, {"source": "serialize_model_subclass", "target": "auto_discover_model_subclass", "type": "calls"}, {"source": "serialize_model_subclass", "target": "SourceSerializationError", "type": "calls"}, {"source": "extract_remote_object", "target": "serialize_instance_state", "type": "calls"}, {"source": "extract_lambda_object", "target": "is_remote_object", "type": "calls"}, {"source": "extract_lambda_object", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_nn_module", "target": "serialize_value", "type": "calls"}, {"source": "serialize_nn_module", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "auto_discover_class", "type": "calls"}, {"source": "serialize_value", "target": "is_tensor", "type": "calls"}, {"source": "serialize_value", "target": "get_callable_reference", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "serialize_value", "type": "calls"}, {"source": "serialize_value", "target": "is_auto_discoverable_instance", "type": "calls"}, {"source": "serialize_value", "target": "serialize_nn_module", "type": "calls"}, {"source": "serialize_value", "target": "is_remote_object", "type": "calls"}, {"source": "serialize_value", "target": "serialize_tensor", "type": "calls"}, {"source": "serialize_value", "target": "SourceSerializationError", "type": "calls"}, {"source": "serialize_value", "target": "is_the_traced_model", "type": "calls"}, {"source": "serialize_value", "target": "is_nn_parameter", "type": "calls"}, {"source": "serialize_instance_state", "target": "serialize_value", "type": "calls"}, {"source": "can_serialize_source_based", "target": "extract_all", "type": "calls"}, {"source": "can_serialize_source_based", "target": "is_model_reference", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_model_subclass", "type": "calls"}, {"source": "deserialize_source_based", "target": "deserialize_tensor", "type": "calls"}, {"source": "deserialize_source_based", "target": "reconstruct_state", "type": "calls"}, {"source": "reconstruct_value", "target": "reconstruct_value", "type": "calls"}, {"source": "reconstruct_value", "target": "deserialize_tensor", "type": "calls"}, {"source": "reconstruct_state", "target": "reconstruct_value", "type": "calls"}, {"source": "remote", "target": "_apply_remote", "type": "calls"}, {"source": "wrapper", "target": "_apply_remote", "type": "calls"}, {"source": "_apply_remote", "target": "validate_class", "type": "calls"}, {"source": "_apply_remote", "target": "find_external_references", "type": "calls"}, {"source": "_apply_remote", "target": "extract_closure_variables", "type": "calls"}, {"source": "_apply_remote", "target": "format_validation_errors", "type": "calls"}, {"source": "_apply_remote", "target": "validate_ast", "type": "calls"}, {"source": "_apply_remote", "target": "resolve_module_references", "type": "calls"}, {"source": "_apply_remote", "target": "RemoteValidationError", "type": "calls"}, {"source": "find_external_references", "target": "ReferenceCollector.__init__", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_FunctionDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_AsyncFunctionDef", "target": "ReferenceCollector.visit_FunctionDef", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ClassDef", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_Name", "target": "ReferenceCollector.is_defined", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_ListComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_SetComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_DictComp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.visit_comprehension", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.pop_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_GeneratorExp", "target": "ReferenceCollector.push_scope", "type": "calls"}, {"source": "ReferenceCollector.visit_Import", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ImportFrom", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_ExceptHandler", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "ReferenceCollector.visit_NamedExpr", "target": "ReferenceCollector.define", "type": "calls"}, {"source": "classify_reference_value", "target": "is_json_serializable", "type": "calls"}, {"source": "resolve_module_references", "target": "classify_reference_value", "type": "calls"}, {"source": "extract_closure_variables", "target": "_extract_closure_from_function", "type": "calls"}, {"source": "_extract_closure_from_function", "target": "classify_reference_value", "type": "calls"}, {"source": "is_json_serializable", "target": "is_json_serializable", "type": "calls"}, {"source": "validate_ast", "target": "Validator", "type": "calls"}, {"source": "Validator.visit_Call", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "Validator._get_attr_chain", "target": "Validator._get_attr_chain", "type": "calls"}, {"source": "extract_lambda_source", "target": "LambdaExtractionError", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "extract_lambda_source", "type": "calls"}, {"source": "validate_lambda_for_remote", "target": "validate_ast", "type": "calls"}, {"source": "_getattr_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_getitem_", "target": "SecurityAuditError", "type": "calls"}, {"source": "_import_", "target": "SecurityAuditError", "type": "calls"}, {"source": "logged_func", "target": "SecurityAuditError", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_builtins", "target": "create_guarded_builtins", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_import", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getattr", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_guarded_getitem", "type": "calls"}, {"source": "create_restricted_globals", "target": "create_restricted_builtins", "type": "calls"}, {"source": "check_imports_in_code", "target": "SecurityAuditError", "type": "calls"}, {"source": "compile_user_code", "target": "check_imports_in_code", "type": "calls"}, {"source": "execute_restricted", "target": "create_restricted_globals", "type": "calls"}, {"source": "execute_restricted", "target": "compile_user_code", "type": "calls"}]}]);